# Космический Телеграм

 Простейший телеграм бот, который получает фотографии из следующих источников:
 - [Astronomy Picture of the Day](https://apod.nasa.gov/apod/astropix.html)
 - [DSCOVR's Earth Polychromatic Imaging Camera (EPIC)](https://epic.gsfc.nasa.gov/)
 - [SpaceX REST API](https://github.com/r-spacex/SpaceX-API)
И публикует их раз в сутки в телеграм канале.
### Как установить
- Скачать файлы
- Создать виртуальное окружение:
```
python -m venv env
```
 - Распаковать архив в папку с вашим виртуальным окружением
 - Прописать в виртуальном окружении:
 ```
 pip install -r requirements.txt
 ```


Для загрузки изображений от NASA необходим ключ к их API. Его можно получить [здесь](https://api.nasa.gov/).
Для запуска бота необходимо зарегистрировать его, и создать канал в telegram. Инструкция [здесь](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/).
Полученные токены и ключи надо указать в файле `.env` и положить его в корень проекта. Для примера можно воспользоваться файлом `env_example`.   
Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:

 ```
   IMAGE_FOLDER = 'ПУТЬ К ПАПКЕ IMAGES'
 
   NASA_API_KEY = 'ВАШ API-КЛЮЧ'
   
   TG_BOT_TOKEN = 'ВАШ ТЕЛЕГРАМ-ТОКЕН'
   
   TG_CHANNEL_ID = '@имя_канала'
 ```
  ## Загрузка изображений
  Изображения сохраняются в папку "Images"
  ### Nasa_apod_images.py
  Cкачивает необходимое количесто изображений космоса с [API портала NASA](https://api.nasa.gov/).<br>
  Для загрузки введите в терминале:
  ```
  python Nasa_apod_images.py
  ```
  Поумолчанию скачивается 5 фото

  При желании можно указать необхоимое количество скачиваемых фото:
  ```
  python Nasa_apod_images.py --count 10
  ```
  ### Nasa_epic_images.py
  Скачивает EPIC-фотографии Земли за последнюю доступную дату.<br>
  Для загрузки введите в терминале:
  ```
  python Nasa_epic_images.py
  ```
  ### Spacex_images.py
  Скачивает фотографии запусков компании SpaceX.<br>
  Чтобы загрузить фото с конкретного запуска, введите команду:
  ```
  python Spacex_images.py --id
  ```
  затем, через пробел, id запуска.<br>
  
  Чтобы скачать фотографии с последнего запуска введите команду, если оно есть в базе:
  ```
  python Spacex_images.py
  ```
  ## Публикация фотографий на канале
  ### Ручная публикация фотографий
  Для публикации случайной фотографии введите команду:
  ```
  python telegram_bot.py
  ```
  Для публикации определенного фото введите:
  ```
  python telegram_bot.py --name
  ```
  а затем, через пробел, полное название файла.
  При вводе имени файла, отсутствующего в папке **images**, будет опубликовано
  случайное изображение из папки **images**
### Автоматическая публикация
**main.py** публикует загруженные изображения через заданный промежуток времени.
Чтобы интервал публикаций оставался по умолчанию (4 часа), введите команду:
```
python main.py
```
Для публикации фотографий каждые 2 часа:
```
python main.py --interval 2
```
 ### Цель проекта
 
 Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
 
